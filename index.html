<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Crabity</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
  </head>
  <style>
    body {
      background-color: linen;
    }
    
    div {
      color: maroon;
      margin-left: 40px;
      font-family: Arial, Helvetica, sans-serif;;
    } 
  </style>
  <body>
    <div>
      <h1>Crabity</h1>
      <p>Vertical Slice made for the CMPM 171 class at UCSC, Winter 2024.</p>
    </div>
  
    <div>
      <h2>Team members</h2>
      <p>This vertical slice was made possible thanks to Akhror Rakhmatov, Daniel Do, Ernani Raffo, Jentsen Maniti, Jordan
      Reavis, and Lukas Licon.</p>
    </div>

    <div id="unity-container" class="unity-desktop">
      <canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
      <div id="unity-loading-bar">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>
      <div id="unity-warning"> </div>
      <div id="unity-footer">
        <div id="unity-webgl-logo"></div>
        <div id="unity-fullscreen-button"></div>
        <div id="unity-build-title">Crabity</div>
      </div>
    </div>
    <script>

      var container = document.querySelector("#unity-container");
      var canvas = document.querySelector("#unity-canvas");
      var loadingBar = document.querySelector("#unity-loading-bar");
      var progressBarFull = document.querySelector("#unity-progress-bar-full");
      var fullscreenButton = document.querySelector("#unity-fullscreen-button");
      var warningBanner = document.querySelector("#unity-warning");

      // Shows a temporary message banner/ribbon for a few seconds, or
      // a permanent error message on top of the canvas if type=='error'.
      // If type=='warning', a yellow highlight color is used.
      // Modify or remove this function to customize the visually presented
      // way that non-critical warnings and error messages are presented to the
      // user.
      function unityShowBanner(msg, type) {
        function updateBannerVisibility() {
          warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
        }
        var div = document.createElement('div');
        div.innerHTML = msg;
        warningBanner.appendChild(div);
        if (type == 'error') div.style = 'background: red; padding: 10px;';
        else {
          if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
          setTimeout(function() {
            warningBanner.removeChild(div);
            updateBannerVisibility();
          }, 5000);
        }
        updateBannerVisibility();
      }

      var buildUrl = "Build";
      var loaderUrl = buildUrl + "/WebGL.loader.js";
      var config = {
        dataUrl: buildUrl + "/WebGL.data.unityweb",
        frameworkUrl: buildUrl + "/WebGL.framework.js.unityweb",
        codeUrl: buildUrl + "/WebGL.wasm.unityweb",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "Team 17",
        productName: "Crabity",
        productVersion: "0.0.107",
        showBanner: unityShowBanner,
      };

      // By default, Unity keeps WebGL canvas render target size matched with
      // the DOM size of the canvas element (scaled by window.devicePixelRatio)
      // Set this to false if you want to decouple this synchronization from
      // happening inside the engine, and you would instead like to size up
      // the canvas DOM size and WebGL render target sizes yourself.
      // config.matchWebGLToCanvasSize = false;

      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        // Mobile device style: fill the whole browser client area with the game canvas:

        var meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
        document.getElementsByTagName('head')[0].appendChild(meta);
        container.className = "unity-mobile";
        canvas.className = "unity-mobile";

        // To lower canvas resolution on mobile devices to gain some
        // performance, uncomment the following line:
        // config.devicePixelRatio = 1;


      } else {
        // Desktop style: Render the game canvas in a window that can be maximized to fullscreen:

        canvas.style.width = "960px";
        canvas.style.height = "600px";
      }

      loadingBar.style.display = "block";

      var script = document.createElement("script");
      script.src = loaderUrl;
      script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
          progressBarFull.style.width = 100 * progress + "%";
              }).then((unityInstance) => {
                loadingBar.style.display = "none";
                fullscreenButton.onclick = () => {
                  unityInstance.SetFullscreen(1);
                };
              }).catch((message) => {
                alert(message);
              });
            };

      document.body.appendChild(script);

    </script>
    
    <div>
      <h2>Game Constraints</h2>
      <p>Our game was designed under the following externally imposed constraints:</p>
    </div>
    <div>
      <ul>
        <li><b>Accessibility</b>: </li>
        <p></p>
        <ul>
          
          <li>
            <b>Limited Vision (Seeing)</b>
            <p>
              <i>Requirement</i>: the game needed to be completable even when simulating vision limitations such as constrast and color
              sensitivity.
            </p>
            <p>
              <i>Team's design:</i>
            </p>
            <ul>
              <li>
                To highlight interactable elements, we used continuous motion on objects to make them stand out to the player.
                The motion made the objects go up and down, hinting to the player that they are items that have purpose in the game.
              </li>
              <p></p>
              <li>
                To fulfill this requirement, we also made our game indepedent of color. For example, there is no point in the game where the player
                needs to grab a blue key or a red key to go through a blue or red door, respectively.
              </li>
              <p></p>
              <li>
                The in-game camera rotation UI element that appears in the second puzzle in the bottom-right is a product of careful design from the
                team. At first, we wanted to create a UI element that highlights the platform you are on with a color, but by thinking of the
                limiting vision constraint, we came up with an arrow that points to the house and follows it around so that the player does not
                need to depend on color to understand where they are.
              </li>
            </ul>
          </li>
          
          <p></p>
          <li>
            <b>Limited Dexterity (Touching)</b>
            <p>
              <i>Requirement:</i> the game must be completable by a player using just one hand of the controls at a time.
            </p>
            <p><i>Team's design:</i></p>
            <ul>
              <p><li>
                Our game does not require both mouse and keyboard input at the same time.
              </li></p>
              <p><li>
                While playing the game, the controls are all of the left side of the keyboard, and can be played with only one hand.
              </li></p>
              <p><li>
                In the main menu, the player can use either a trackpad or a mouse to click on play, settings, or credits.
              </li></p>
              <p><li>
                By keeping our controls simple, we were able to make a game that feels good to play with only one hand.
              </li></p>
            </ul>
          </li>

          <p></p>
          <li>
            <b>Limited Audition (Hearing)</b>
            <p>
              <i>Requirement:</i> the game must be completable by a player who cannot hear any sounds from the game.
            </p>

            <p>
              <i>Team's design:</i>
            </p>

            <ul>
              <p><li>
                To make our game completable by a player who cannot hear any sounds, we designed our game to not be depedent on sound cues.
              </li></p>
              <p><li>
                We have included background music in our game for ambiance, but the sound can be turned all the way off and nothing would change
                in terms of the gameplay.
              </li></p>
              <p><li>
                To communicate controls and story with the player, we used a dialogue box on the left of the screen that the player can interact with.
                By having this dialogue box with no voice attached to it, our game is completable without any sound cues.
              </li></p>
            </ul>
          </li>

          <p></p>
          <li>
            <b>Limited Energy and Attention (Resting)</b>
            <p>
              <i>Requirement:</i> during a completion run of the game, gameplay should always reach a natural resting point within two minutes
              of active play without the player needing to take an extra action to pause the game.
            </p>

            <p>
              <i>Team's design:</i>
            </p>

            <ul>
              <p><li>
                We designed our game to not have enemies, as you are your only enemy when it comes to solving puzzles.
                With this design philosophy, you can rest at any point in a level.
              </li></p>
              <p><li>
                In our next capstone course, CMPM 172 (Game Production Studio), we are planning to adding enemies, where we will need to
                introduce some rest areas in between levels and in a level itself. For example, this could come in the form of a platform where no
                enemies can come near you.
              </li></p>
            </ul>
          </li>

        </ul>
        
        <p></p>
        <li>
          <b>Localization:</b>
          <p>
            <i>Requirement:</i> the game must support two different written languages. At least one language must use either a logographic script
            or a right-to-left script.
          </p>

          <p>
            <i>Team's design:</i>
          </p>
          <ul>
            <p><li>
              To fullfil this requirement, we included a button in the main menu that switches the locale of the game to Arabic.
            </li></p>
            <p><li>
              We downloaded a font specificially for Arabic characters, and used Unity's RTL editor to port Arabic sentences properly.
            </li></p>
          </ul>
        </li>
        
        <p></p>
        <li>
          <b>Game Format:</b> 
          <p>
            <i>Requirements:</i>
            <ul>
              <p><li>
                The game must be completable while the player's device is disconnected from the internet.
              </li></p>
              <p><li>
                The total data transfer involved in downloading the game must be less than 100 MiB.
              </li></p>
              <p><li>
                The game may target the platform of the team's choice, however if Windows is supported, macOS must also
                be supported in principle.
              </li></p>
            </ul>
          </p>

          <p>
            <i>Team's design</i>
          </p>

          <ul>
            <p><li>
              Our game is supported for both macOS and Windows, and both are below 100 MiB when transferred.
            </li></p>
            <p><li>
              By using Unity's compression tool and compressing the assets used, we are able to achieve this file transfer
              constraint.
            </li></p>
          </ul>
        </li>
      </ul>
    </div>
  </body>
</html>
